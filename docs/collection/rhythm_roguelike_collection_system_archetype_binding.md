# 🎼 Rhythm Roguelike 收藏系统设计文档（卡牌 × 即兴 × 流派完成态）

> 本文档定义 **Rhythm Roguelike 的局外收藏 / 养成系统**，
> 说明：
> - 即兴音符组合（模板）如何作为可收藏内容
> - 收藏内容如何反向影响局内卡牌系统
> - 收藏系统如何与 **8 个流派完成态** 形成明确绑定关系
>
> 本文档为 **系统级 GDD 文档**，可直接用于实现收藏、成长与长期留存。

---

## 1. 收藏系统的设计目标

### 1.1 核心目标

- 让玩家在局外获得"音乐词汇"的成长感
- 不增加局内操作复杂度
- 通过收藏 **降低流派完成态门槛**
- 让新手也能通过积累获得"秒怪"体验

### 1.2 收藏系统的定位

**收藏系统是指默认库之外的，用户可以通过完成特定游戏目标，解锁的节奏/调性/旋律/音色，用于丰富用户创作，同时不影响基础游戏体验。**

- **默认库**：已经足够完成所有战斗，新手可以完全不收集，也能正常游戏
- **收藏内容**：可选增强，提供更多音乐表达方式，让玩家可以创作更独特的音乐
- **不影响基础体验**：收藏内容是"词汇积累"，而非"数值增强"

---

### 1.2 收藏系统在整体架构中的位置

| 系统 | 职责 |
|---|---|
| 常规卡牌 | 回合内结构决策 |
| 能力卡牌 | 完成态规则修改 |
| **收藏系统** | 长期解锁与偏向控制 |

> 收藏系统不直接给数值，只给“更容易走对路”。

---

## 2. 收藏内容的四个层级

### L1：短语模板（Phrase Template）

- 最小收藏单位
- 定义：
  - 一种可生成的音符排列模式
- 作用：
  - 扩展常规卡的模板池
  - 提升音乐新鲜度

---

### L2：模板变体（Template Variant）

- 模板的演化版本
- 例如：
  - 强终止型
  - 高装饰型
  - 延迟型
- 通常不要求玩家全收集

---

### L3：词库包（Vocabulary Pack）

- 收藏系统的核心可见单位
- 每个词库包包含：
  - 10–20 个模板
  - 明确风格倾向

---

### L4：句法规则（Grammar Rule）

- 高阶收藏内容
- 改变生成权重与完成态读取方式
- 数量应严格控制

---

## 3. 收藏系统如何影响卡牌列表

### 3.1 对常规卡牌的影响（最重要）

收藏不会新增卡牌，而是：

- 改变卡牌内部的 **模板池构成**
- 改变模板出现的权重

例如：
- 同一张“五声音阶（稳定）”卡
  - 新手：6 个基础模板
  - 老玩家：6 个基础模板 + 8 个已解锁模板

---

### 3.2 对能力卡牌的影响

- 收藏可作为能力的“软前置条件”
- 解锁某些词库包后，相关能力更易出现

---

## 4. 收藏 × 8 个流派完成态的绑定关系

> 核心原则：
> **收藏不直接触发完成态，只降低触发难度或提高稳定性。**

---

## ① 稳定闭合流（Stable Closure）

**绑定收藏类型**：
- 稳定型模板
- 重复 / 回归主音词库包

**系统效果**：
- 稳定模板权重提高
- 连续稳定回合阈值降低

---

## ② 延迟爆发流（Delayed Resolution）

**绑定收藏类型**：
- 问句 / 未终止模板
- 延迟结算词库包

**系统效果**：
- 张力累积效率提高
- 高光回合收益放大

---

## ③ 结构跳跃流（Structural Skip）

**绑定收藏类型**：
- 非标准句法模板
- 跳段型词库包

**系统效果**：
- 非高光段允许收束概率提高
- Boss 阻断效果削弱

---

## ④ 高光接管流（Spotlight Override）

**绑定收藏类型**：
- 高光 / 装饰模板
- 独奏型词库包

**系统效果**：
- 高光轨接管失败成功率提升
- 接管惩罚降低

---

## ⑤ 极简纯化流（Minimalist Purity）

**绑定收藏类型**：
- 极简模板
- 留白 / 单音词库包

**系统效果**：
- 卡池缩减收益提高
- 一致性判定更宽松

---

## ⑥ 连锁共振流（Resonance Chain）

**绑定收藏类型**：
- 镜像 / 呼应模板
- 对位词库包

**系统效果**：
- 共振触发阈值降低
- 连锁次数上限提高

---

## ⑦ 压迫反击流（Counter-Pressure）

**绑定收藏类型**：
- 承压型模板
- 防御→进攻词库包

**系统效果**：
- 承压段奖励提升
- 反击倍率更稳定

---

## ⑧ 指挥终止流（Conductor’s Finish）

**绑定收藏类型**：
- 收束 / 终止模板
- 合奏型词库包

**系统效果**：
- 多人最低完成度要求降低
- 个别音轨失败容忍度提高

---

## 5. 收藏解锁节奏建议

### 新手阶段
- 解锁基础模板
- 感知“怎么选都不难听”

### 中期阶段
- 解锁风格明显的词库包
- 开始理解流派

### 后期阶段
- 解锁句法规则
- 明确构筑目标与秒怪路径

---

## 6. 收藏系统与曲库编辑（PVE 的核心意义）

### 6.1 解锁收藏后的付费编辑

**编辑功能**（仅限自己的创作）：
- 解锁新的收藏以后，玩家可以对自己曲库里的**自己创作的**曲子进行**付费编辑**
- 使用新解锁的收藏内容（短语模板、词库包、句法规则等）对已有曲子进行编辑
- 让曲子拥有更完美的结构、更丰富的表达

**编辑机制**：
- 消耗局外代币进行付费编辑
- 可以使用新解锁的收藏内容
- 可以调整结构、优化段落、完善细节
- 让玩家拥有更完美的曲子

**编辑限制**（重要）：
- **只能编辑自己创作的曲子**：不能编辑其他玩家创作的曲子
- **其他玩家的创作只能收藏**：确保随机性和原创性

**编辑意义**：
- 让玩家有机会不断完善自己的作品
- 通过解锁新收藏，获得新的编辑工具
- 让曲库中的曲子随着玩家成长而不断进化

---

### 6.2 其他玩家创作的权限限制

**核心原则**：
> **玩家对于其他玩家的创作，只能付费收藏，无法进行编辑或二次创作，确保随机性和原创性。**

**权限限制**：
- **只能付费收藏**：其他玩家可以对音乐进行付费收藏
- **无法编辑**：不能对其他玩家的创作进行编辑
- **无法二次创作**：不能基于其他玩家的创作进行二次创作
- **只能欣赏**：收藏后只能在自己的曲库中欣赏，不能修改

**设计目的**：
- **确保随机性**：每个玩家的创作都是独特的，不会因为编辑而失去随机性
- **确保原创性**：每个玩家的创作都保持原创性，不会被其他玩家修改
- **保护创作者**：确保创作者的作品不会被他人修改或二次创作

**收藏功能**：
- 收藏后可以在自己的曲库中欣赏
- 可以查看创作信息（创作者、创作时间、流派等）
- 可以分享给其他玩家（但不能编辑）
- 可以付费收藏，支持创作者

### 6.2 收藏系统与 PVE 的关系

**PVE 的核心意义**：
> **每次挑战过程中可能产生更多随机的灵感，让玩家有机会超越自己。**

**收藏系统的作用**：
- 解锁新收藏后，玩家可以使用这些收藏内容对已有曲子进行编辑
- 让玩家有机会将挑战中产生的灵感完善成完整的作品
- 让玩家拥有更完美的曲子，分享出去

**设计理念**：
- 收藏系统不是堆数量，而是逐步赋予玩家"音乐语言能力"
- 解锁新收藏后，玩家可以使用这些收藏内容编辑已有曲子
- 让曲库中的曲子随着玩家成长而不断进化
- 这才是 PVE 的意义

---

## 7. 设计总结（可直接引用）

> **收藏系统不是堆数量，
> 而是逐步赋予玩家"音乐语言能力"。**
>
> **当收藏与流派绑定时，
> 新手可以通过积累体验高手的快感，
> 高手可以通过理解突破系统上限。**

> **解锁新的收藏后，玩家可以对自己曲库里的曲子进行付费编辑，
> 让自己拥有更完美的曲子，分享出去。
> 这才是 PVE 的意义。**

（完）

