# 🎼 Rhythm Roguelike 音轨拆分与节奏可视化设计文档
## —— 基于真实音乐创作的轨道结构与 UI 表现规范（V1）

> 本文档用于定义 **Rhythm Roguelike** 的最终音轨拆分方案，  
> 以及与之配套的 **节奏可视化与 UI 表现规则**。
>
> 设计目标是：
> - 忠实于真实音乐创作逻辑  
> - 提升可玩深度而不制造视觉混乱  
> - 让非音游玩家“看得懂正在发生什么”
>
> 本文档可直接作为 **GDD · Audio System / Combat UI** 章节使用。

---

## 一、设计原则总览（必须先读）

### 1.1 拆分原则（核心）

> **音轨的拆分依据不是“声音数量”，  
> 而是“在真实音乐创作中承担的职责”。**

玩家不是在混音，而是在做**结构与表达决策**。

---

### 1.2 可视化原则（核心）

> **节奏可视化的目的不是展示复杂性，  
> 而是引导注意力与理解时间流动。**

不是所有轨道都应该等权闪烁。

---

## 二、最终音轨结构定义（6 轨模型）

### 2.1 全曲固定基础轨（不可拆）

#### ① 节奏（Rhythm / Drums）
- 真实职责：拍号、Groove、时间基准
- 游戏规则：
  - 前奏回合确定
  - 全曲锁定
- 系统定位：
  - 唯一的“时间锚点”

---

#### ② 贝斯（Bass）
- 真实职责：和声地基、低频能量
- 游戏规则：
  - 前奏回合确定
  - 全曲锁定
- 系统定位：
  - 重量与稳定感来源

---

### 2.2 可玩表达轨（基于真实制作流程拆分）

#### ③ 主旋律（Lead / Theme）
- 职责：
  - 主题动机
  - 情绪方向
- 系统意义：
  - 流派判定权重最高
  - 最常被敌人干预
- 风险 / 回报：
  - 高风险 / 高表达收益

---

#### ④ 对位 / 和声层（Counter / Harmony）
- 职责：
  - 丰富层次
  - 回应主旋律
- 系统意义：
  - 提升复杂度与纯度
- 特点：
  - 非必需轨
  - 高手向设计

---

#### ⑤ 节奏化装饰（Rhythmic Elements）
- 职责：
  - 切分
  - 推动力
  - 紧张感
- 系统意义：
  - 敌人密度干预核心对象
- 特点：
  - 非音游玩家友好

---

#### ⑥ 纹理 / 空间 / 表情层（Texture / FX）
- 职责：
  - 空间感
  - 情绪余韵
  - 人声感素材
- 系统意义：
  - 高光与终结演出关键层
- 备注：
  - 模拟人声叠加首选轨道

---

## 三、音轨解锁与多段式战斗的对应关系

| 阶段 | 可用音轨 |
|---|---|
| 前奏回合 | Rhythm + Bass |
| 段落 1 | + Lead |
| 段落 2 | + Counter 或 Rhythmic（二选一） |
| 段落 3+ | 全部开放 |

目的：
- 控制认知负担
- 让“轨道解锁”本身成为成长反馈

---

## 四、节奏可视化的分层设计模型

### 4.1 总体策略

> **不是所有轨都在动，  
> 而是始终有“主视觉节拍”。**

---

### 4.2 各轨道可视化规则一览

| 音轨 | 可视化方式 | 强度 |
|---|---|---|
| Rhythm | 明确节拍闪烁 | ★★★★★ |
| Bass | 小节级呼吸起伏 | ★★☆☆☆ |
| 当前操作轨 | 跟随节奏闪烁 | ★★★★☆ |
| 非操作表达轨 | 微弱存在感 | ★☆☆☆☆ |
| 非相关轨 | 静态 | ☆☆☆☆☆ |

---

### 4.3 Rhythm：唯一强节拍源

- 跟随每拍闪烁
- 颜色固定
- 不随流派变化
- 作为所有视觉节奏的参考系

---

### 4.4 Bass：重量而非节拍

- 不逐拍闪烁
- 使用：
  - 亮度起伏
  - 缓慢缩放
- 跟随小节或乐句

---

### 4.5 表达轨的动态规则（重点）

#### 默认状态
- 静态或极低频呼吸
- 不抢注意力

#### 操作中 / 操作后
- 被选中轨道：
  - 跟随其节奏闪烁
  - 持续 1–2 小节
- 其他轨道：
  - 视觉弱化

#### 敌人干预
- 仅被干预轨道出现异常表现：
  - 变暗
  - 抖动
  - 相位偏移

---

## 五、颜色与节奏的协同规则

### 5.1 颜色使用原则

- 流派颜色用于：
  - 轨道填充
  - 结构完成度
- 不用于：
  - 高频闪烁

---

### 5.2 禁忌组合（必须避免）

❌ 颜色渐变 + 高频闪烁  
❌ 多轨不同节奏同时强闪  
❌ 敌人干预导致全 UI 抖动

---

## 六、高光与终结阶段的特殊可视化

### 高光段（Climax）
- 表达轨短暂同步呼吸
- 非逐拍，而是脉冲式

### 终结演出前
- 所有轨道逐渐收敛节奏
- 强烈“即将完成”的视觉暗示

---

## 七、完整操作回合中的可视化流程示例

1. 回合开始：
   - Rhythm 闪烁
   - 其他轨静态
2. 玩家选中 Lead：
   - Lead 跟随节奏闪烁
3. 操作完成：
   - Lead 闪烁 1–2 小节后回落
4. 敌人干预 Counter：
   - Counter 轨出现异常提示
5. 回合结束：
   - 所有轨回归基线状态

---

## 八、设计总结（可直接引用）

> 在这个系统中，  
> 节奏是时间的可视化，  
> 而不是装饰。
>
> 只有当玩家需要理解、  
> 需要注意、  
> 需要决策时，  
> 音轨才会“发声”和“发光”。

（完）
