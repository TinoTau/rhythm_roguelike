# Rhythm Roguelike PVP 模式设计（相互污染·结构博弈版）

> 本文档在你**原有单人战斗方案**与**相互污染理念**基础上，重新定义 PVP：
>
> **双方不再直接“打对方”，而是通过持续污染与删减卡池，
> 逐步把“自己”变成对方必须面对的敌人。**

PVP 的胜负来自：

> **在卡池不断被削减、结构压力持续上升的情况下，
> 谁仍然能用更少的回合完成自己的创作。**

---

## 一、PVP 核心概念

### 1.1 对抗本质

- 双方各自创作一首完整曲子
- 但：
  - 你的卡池会持续污染对方
  - 对方的卡池也会持续污染你

最终效果是：

> **对局后半段，你面对的“敌人”，
> 已经不再是系统，而是对方的音乐理解方式。**

---

### 1.2 胜负定义

- 比较的不是谁让对方失败
- 而是：

1. 谁用的**总回合数更少**
2. 谁能在**卡池高度残缺**的情况下完成结构

---

## 二、基础对局结构

### 2.1 对局参数

- 1v1 同步 PVP
- 同一区域 / 同一难度 / 同一基调节奏
- 每局一首曲子，**4–8 段**（继承单人规则）

### 2.2 模式选择（根据新手模式选择引导与学习路径设计补充）

**首次进入 PVP 时**，系统展示两个选项：

1. **纯净风格对局**
   - 学习一个清晰、稳定的流派结构
   - 考察在持续干扰与卡池污染条件下，维持单一风格表达稳定性的能力

2. **混合风格对局**
   - 学习如何在变化中完成表达
   - 考察在结构持续变化、卡池不断交换的条件下，保持表达可完成性的能力

**选择建议逻辑**（系统侧）：
- 系统根据玩家 PVE / 教学局表现，给出轻度推荐：
  - 经常回避污染卡 → 推荐纯净风格
  - 经常结构崩坏但能完成 → 推荐混合风格
- 该推荐不锁定选择权

**路径切换机制**：
- 任意时间可切换模式
- 系统对两条路径的学习成果分别记录
- 玩家可在后期专精一条，或在两者之间灵活切换

---

### 2.3 双方卡池结构

每名玩家拥有：

- **本体卡池**：
  - 各音轨 5 张牌（部分可见）
- **污染池**：
  - 来自对方的污染卡

污染卡规则：
- 污染卡会混入你的可选牌中
- 污染卡不一定是错误解

**纯净风格模式**：
- 双方以**各自选定的纯净流派卡组**开局
- 起手卡组内部风格一致
- 系统在第 1 段起即引入结构性干扰（非随机）

**混合风格模式**：
- 双方以**自选混合卡组**开局
- 卡组允许多流派、多结构倾向
- 系统默认允许结构偏移

---

## 三、相互污染与删减机制（核心）

### 3.1 段落完成后的“结构交换”

当一名玩家**成功完成一个段落**时：

1. 对方的卡池中：
   - 每条音轨随机删除 1 张卡牌
2. 被删除的卡牌：
   - 进入完成者的**污染池**

这意味着：

> **你完成得越快，
> 越早把自己的结构“刻进”对方的卡池里。**

---

### 3.2 卡池逐步枯竭的设计目的

- 段落越靠后：
  - 可用本体卡越少
  - 污染卡比例越高

PVP 后半段的核心体验是：

> “我已经没有原本想用的牌了，
> 但我仍然知道这段音乐该怎么走。”

---

## 四、回合流程（继承并强化单人战斗）

### 4.1 单回合流程

1. **干扰体刷新**
   - 基于当前卡池结构生成
2. **道具阶段**（可选）
3. **卡牌选择与修复**
4. **回合结算**

---

### 4.2 干扰体的 PVP 用法

#### 4.2.1 干扰体来源

- 系统自动生成（主）
- 道具召唤（辅）

#### 4.2.2 道具召唤原则（严格限制）

允许的道具效果：
- 临时增加对方干扰体数量
- 放大某一类干扰（如调性 / 风格）

禁止：
- 直接删除对方卡牌
- 直接结束段落

干扰体的作用始终是：

> **增加判断难度，而不是替代判断。**

---

## 五、利用对方卡牌完成创作（关键博弈点）

### 5.1 污染卡的真实身份

在 PVP 中：

- 污染卡 = 对方曾经使用过、或被系统判定为有效的结构
- 并非随机噪音

因此：

> **污染卡是“被验证过的他人解法”。**

---

### 5.2 卡池残缺后的创作逻辑

当你的本体卡池不足以支撑当前段落时：

- 你必须：
  - 推断对方的流派方向
  - 判断哪些污染卡可以为己所用

形成三种策略：

1. **借用式完成**
   - 用污染卡完成段落
   - 保持自己的结构目标

2. **混合式完成**
   - 接纳部分对方流派
   - 用更多段落完成表达

3. **反向利用**
   - 故意选用对方卡牌
   - 迫使后续干扰更偏向对方结构

---

## 六、段落与回合的胜负张力

### 6.1 回合数即“表达成本”

- 每多用一回合
- 就意味着：
  - 你对当前结构的把握不够清晰

PVP 中比较的是：

> **谁用更低的“表达成本”完成同样复杂的曲子。**

---

### 6.2 后期段落的极限状态

在最后 1–2 个段落中：

- 双方：
  - 本体卡池可能接近空
  - 污染卡成为主要资源

但系统保证：
- 始终存在至少一种可完成结构的解

这确保：

> **胜负来自理解，而不是运气锁死。**

---

## 七、胜负判定（根据纯净风格和混合风格规则补充）

### 7.1 纯净风格模式判定

**核心指标：纯净度（Purity）**

纯净度不是"未使用污染卡"，而是以下多维度综合结果：

1. **风格一致性**
   - 是否持续围绕同一流派核心展开
2. **结构连贯性**
   - 段落之间是否存在明显断裂
3. **污染吸收能力**
   - 污染卡是否被成功转化为流派内表达

**判定顺序**：
1. 双方是否完成曲子
2. 比较最终纯净度评分
3. 若纯净度接近：
   - 使用回合数更少者胜

**反"闭眼打"机制**：
- 前两段必定出现风格边界干扰
- 机械执行既定组合会导致：
  - 纯净度下降
  - 结构稳定性警告

系统提示示例：
> "当前表达保持形式一致，但结构出现漂移。"

---

### 7.2 混合风格模式判定

**核心指标：结构连贯性（Coherence）**

混合模式不评估纯净度，而评估：

1. **结构延续性**
   - 是否频繁推翻既有方向
2. **变化可控性**
   - 每次变化是否能被承接
3. **污染转译能力**
   - 是否能将对方结构转化为新支点

**判定顺序**：
1. 双方是否完成曲子
2. 比较结构连贯性评分
3. 若评分接近：
   - 使用回合数更少者胜

**反"乱打"约束**：
- 频繁方向反转会降低连贯性
- 随机拼接污染卡会触发：
  - "结构失控"提示

系统反馈示例：
> "变化成立，但缺乏承接。"

---

### 7.3 通用评分（展示用）

**纯净风格模式**：
- 结构完成度
- 污染卡利用率
- 流派一致性（纯净度）

**混合风格模式**：
- 结构完成度
- 污染卡利用率
- 结构连贯性

评分不影响胜负，仅用于复盘与排行。

---

## 八、策略层总结

### 8.1 对玩家的要求

**纯净风格模式**：
- 理解自己卡池的结构倾向
- 能在卡池被破坏后重建表达
- 能识别对方音乐理解的"惯性"
- 学习哪些组合构成真正的纯净流派
- 学习哪些看似正确的牌会破坏稳定性

**混合风格模式**：
- 理解结构可以被修正
- 学会错误并非终点
- 体验高阶即兴能力
- 主动制造变化并将其稳定下来

---

### 8.2 PVP 的独特爽点

**纯净风格模式**：
> **在持续干扰与卡池污染条件下，  
> 是否能在使用污染卡的前提下，  
> 完成一个高纯净度的风格闭合结构。**

**混合风格模式**：
> **在结构持续变化、卡池不断交换的条件下，  
> 是否始终知道"下一步还能怎么走"。**

**通用体验**：
> **你不是被对方击败的，
> 而是被迫用对方的理解方式，
> 重新证明了自己依然能完成创作。**

---

### 8.3 对新手与高手的意义（根据参考文档补充）

**新手**：
- **纯净风格**：学习哪些组合构成真正的纯净流派，哪些看似正确的牌会破坏稳定性
- **混合风格**：学会错误并非终点，结构可以被修正

**高手**：
- **纯净风格**：持续体验高压精确控制，即使拿到对方纯净卡组，也必须重新理解其逻辑
- **混合风格**：体验高阶即兴能力，主动制造变化并将其稳定下来

---

## 九、设计宣言（可直接引用）

> 在这个 PVP 中，
> 我们不是用技能压制对手，
> 而是不断把“自己”变成
> 对方必须解决的那道题。

（完）

